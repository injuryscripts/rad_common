-if record.persisted? && record.send(attachment_name).attached?
  - attachment = record.send(attachment_name)
  - label_override = defined?(override_label) && override_label.present? ? override_label : nil
  -if attachment.content_type.include?('image')
    - link = defined?(override_path) && override_path.present? ? override_path : url_for(attachment)
    - target = defined?(new_tab) && new_tab ? '_blank' : nil
    - attachment_label = label_override.present? ? label_override : image_tag(attachment, class: 'img-fluid', id: 'attachment_layout')
    = link_to(attachment_label, link, target: target)
  -else
    - attachment_label = label_override.present? ? label_override : content_tag(:i, '', class: 'fa fa-paperclip')
    =link_to label_override, url_for(attachment), target: '_blank'
